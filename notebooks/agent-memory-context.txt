Let's build ğ—®ğ—´ğ—²ğ—»ğ˜ ğ—ºğ—²ğ—ºğ—¼ğ—¿ğ˜† with LlamaIndex + Weaviate + Gemini ğŸ‘€

This recipe notebook walks through building persistent memory for AI agents using three components: LlamaIndex (orchestration), Weaviate (vector storage), and Gemini (LLM + embeddings)
See it here: https://lnkd.in/dTpW9sp3

LlamaIndex orchestrates memory through three distinct memory blocks:
1ï¸âƒ£ ğ—¦ğ˜ğ—®ğ˜ğ—¶ğ—°ğ— ğ—²ğ—ºğ—¼ğ—¿ğ˜†ğ—•ğ—¹ğ—¼ğ—°ğ—¸: Stores fixed information (e.g., "User's name is Sam")
2ï¸âƒ£ ğ—™ğ—®ğ—°ğ˜ğ—˜ğ˜…ğ˜ğ—¿ğ—®ğ—°ğ˜ğ—¶ğ—¼ğ—»ğ— ğ—²ğ—ºğ—¼ğ—¿ğ˜†ğ—•ğ—¹ğ—¼ğ—°ğ—¸: Automatically extracts structured facts from conversations (e.g., "User is vegetarian," "User likes potatoes")
3ï¸âƒ£ ğ—©ğ—²ğ—°ğ˜ğ—¼ğ—¿ğ— ğ—²ğ—ºğ—¼ğ—¿ğ˜†ğ—•ğ—¹ğ—¼ğ—°ğ—¸: Stores conversation chunks as embeddings in Weaviate for semantic retrieval

When your chat history exceeds a configurable token threshold, chunks of conversation get embedded using Gemini's 'text-embedding-004' model and stored in Weaviate with a session_id to track different conversations.

Later, when you send a new message, the system searches Weaviate for relevant past conversation chunks and injects them back into the context window. This means your agent can remember details from previous sessions.

ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² ğ—³ğ—¿ğ—¼ğ—º ğ˜ğ—µğ—² ğ—»ğ—¼ğ˜ğ—²ğ—¯ğ—¼ğ—¼ğ—¸:
In Session 1, the user mentions being vegetarian and wanting potato dishes. The agent suggests Vegetarian Shepherd's Pie.
In Session 2 (a completely new session), the user says "I'm hungry again but I don't want to make the same dish as last time."

The agent retrieves the relevant conversation chunk from Weaviate and responds with new suggestions that avoid Shepherd's Pie - proving it remembered the previous session.

The implementation uses:

- ğ—šğ—²ğ—ºğ—¶ğ—»ğ—¶ ğŸ®.ğŸ± ğ—™ğ—¹ğ—®ğ˜€ğ—µ as the LLM
- ğ—šğ—²ğ—ºğ—¶ğ—»ğ—¶ ğ˜ğ—²ğ˜…ğ˜-ğ—²ğ—ºğ—¯ğ—²ğ—±ğ—±ğ—¶ğ—»ğ—´-ğŸ¬ğŸ¬ğŸ° for embeddings
- ğ—ªğ—²ğ—®ğ˜ƒğ—¶ğ—®ğ˜ğ—² ğ—–ğ—¹ğ—¼ğ˜‚ğ—± for vector storage
- ğ—Ÿğ—¹ğ—®ğ—ºğ—®ğ—œğ—»ğ—±ğ—²ğ˜…'ğ˜€ ğ—™ğ˜‚ğ—»ğ—°ğ˜ğ—¶ğ—¼ğ—»ğ—”ğ—´ğ—²ğ—»ğ˜ for orchestration